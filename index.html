<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bagan OMK Sekonau - Tambah & Hapus</title>
<style>
body {
  background-image: url('https://i.postimg.cc/5tXj9NRJ/pngtree-professional-managing-digital-network-connections-with-interactive-interface-picture-image-1.png');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
}

  header {
    text-align: center;
    padding: 30px 10px 20px 10px;
    background: linear-gradient(to right, #c4de04, #ebf311);
    color: rgb(247, 4, 4);
  }

  header h1 {
    margin: 0;
    font-size: 1.8em;
    text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
  }

  .org-chart {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }

  .level {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 60px;
  }

  .card {
    background: rgb(188, 240, 3);
    border-radius: 12px;
    padding: 35px;
    width: 140px;
    text-align: center;E
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    position: relative;
    cursor: pointer;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .card.show {
    opacity: 1;
    transform: translateY(0);
  }

  .card img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 50%;
    margin-bottom: 10px;
  }

  .card h3 {
    margin: 5px 0;
    font-size: 1em;
    color: #004080;
  }

  .card p {
    margin: 0;
    font-size: 0.85em;
    color: #555;
  }

  .slider-container {
    display: flex;
    overflow-x: auto;
    gap: 20px;
    padding-bottom: 10px;
    scrollbar-width: thin;
    scrollbar-color: #004080 #f5f7fa;
    margin-bottom: 20px;
  }

  .slider-container::-webkit-scrollbar {
    height: 8px;
  }

  .slider-container::-webkit-scrollbar-thumb {
    background: #004080;
    border-radius: 4px;
  }

  .slider-container::-webkit-scrollbar-track {
    background: #f5f7fa;
  }

  @media (max-width: 600px) {
    .level {
      flex-direction: column;
      gap: 30px;
    }
    .slider-container {
      gap: 15px;
    }
    .card {
      width: 120px;
    }
  }

  /* Modal */
  .modal {
    display: none;
    position: fixed;
    z-index: 999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.6);
  }

  .modal-content {
    background: white;
    margin: 15% auto;
    padding: 20px;
    border-radius: 12px;
    max-width: 300px;
    text-align: center;
  }

  .modal-content img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    margin-bottom: 10px;
  }

  .close {
    color: #aaa;
    float: right;
    font-size: 24px;
    font-weight: bold;
    cursor: pointer;
  }

  .close:hover {
    color: #000;
  }

  /* Tombol tambah */
  .add-button {
    background: #004080;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    margin: 10px 0;
    font-size: 0.9em;
  }

  .add-button:hover {
    background: #0066cc;
  }

  /* Tombol hapus (untuk semua card baru) */
  .remove-btn {
    position: absolute;
    top: 5px;
    right: 8px;
    cursor: pointer;
    color: red;
    font-weight: bold;
    font-size: 16px;
  }

</style>
</head>
<body>

<header>
  <h1>ğ’ğ­ğ«ğ®ğ¤ğ­ğ®ğ« ğŠğğ©ğğ§ğ ğ®ğ«ğ®ğ¬ğšğ§ ğğŒğŠ ğ’ğğ¤ğ¨ğ§ğšğ®</h1>
</header>

<div class="org-chart">

  <!-- Level Hierarki -->
  <div class="level">
    <div class="card" onclick="openModal('ğ‡ğ„ğ‘ğˆ','Pembina','https://i.postimg.cc/5NgZy98Z/Screenshot-17.png','Pembina OMK Sekonau.')">
      <img src="https://i.postimg.cc/5NgZy98Z/Screenshot-17.png" alt="ğğ„ğŒğğˆğğ€">
      <h3>ğ‡ğ„ğ‘ğˆ</h3>
      <p>Melakukan pembinaan secara khusus</p>
    </div>
  </div>

  <div class="level">
    <div class="card" onclick="openModal('ğŒğ€ğ‘ğˆğ’ğ€ ğ‘ğˆğ’ğŒğ€','Ketua','https://i.postimg.cc/q7ywtQ9S/Screenshot-18.png','Ketua OMK Sekonau.')">
      <img src="https://i.postimg.cc/q7ywtQ9S/Screenshot-18.png" alt="Ketua">
      <h3>ğŒğ€ğ‘ğˆğ’ğ€ ğ‘ğˆğ’ğŒğ€</h3>
      <p>Ketua</p>
    </div>
  </div>

  <div class="level">
    <div class="card" onclick="openModal('ğ˜ğ”ğ‹ğˆğ“ğ€ ğ“ğˆğŠğ€','Sekretaris','https://i.postimg.cc/DZ5qsN5Z/Screenshot-19.png','Sekretaris OMK.')">
      <img src="https://i.postimg.cc/DZ5qsN5Z/Screenshot-19.png" alt="Sekretaris">
      <h3>ğ˜ğ”ğ‹ğˆğ“ğ€ ğ“ğˆğŠğ€</h3>
      <p>Sekretaris</p>
    </div>
    <div class="card" onclick="openModal('ğˆğŠğğ€ğ’ğˆğ”ğ’ ğŠğ€ğ‘ğ‹ğ','Bendahara','https://i.postimg.cc/Zn2vxzNF/Screenshot-20.png','Bendahara OMK.')">
      <img src="https://i.postimg.cc/Zn2vxzNF/Screenshot-20.png" alt="Bendahara">
      <h3>ğˆğŠğğ€ğ’ğˆğ”ğ’ ğŠğ€ğ‘ğ‹ğ</h3>
      <p>Bendahara</p>
    </div>
  </div>

  <!-- Slider Divisi / Devosi -->
  <button class="add-button" onclick="addNewCard()">+ Tambah Divisi</button>
  <div class="slider-container" id="sliderDivisi">
    <div class="card" onclick="openModal('ğ†ğ‹ğğ‘ğˆğ€ ğ‰ğ”ğŒğˆ','Divisi Liturgi','https://via.placeholder.com/100','Divisi Kegiatan OMK.')">
      <img src="https://via.placeholder.com/100" alt="Divisi Kegiatan">
      <h3>ğ†ğ‹ğğ‘ğˆğ€ ğ‰ğ”ğŒğˆ</h3>
      <p>Divisi Liturgi</p>
    </div>
    <div class="card" onclick="openModal('ğ‘ğ€ğ“ğğ€','Divisi Liturgi','https://via.placeholder.com/100','Divisi Liturgi OMK.')">
      <img src="https://via.placeholder.com/100" alt="Divisi Liturgi">
      <h3>ğ‘ğ€ğ“ğğ€</h3>
      <p>Divisi Kreativitas & Seni</p>
    </div>
  </div>

</div>

<!-- Modal -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <img id="modal-img" src="" alt="">
    <h3 id="modal-name"></h3>
    <p id="modal-role"></p>
    <p id="modal-bio"></p>
  </div>
</div>

<script>
  // Modal
  const modal = document.getElementById('modal');
  const modalImg = document.getElementById('modal-img');
  const modalName = document.getElementById('modal-name');
  const modalRole = document.getElementById('modal-role');
  const modalBio = document.getElementById('modal-bio');

  function openModal(name, role, img, bio){
    modal.style.display = 'block';
    modalImg.src = img;
    modalName.textContent = name;
    modalRole.textContent = role;
    modalBio.textContent = bio;
  }

  function closeModal(){
    modal.style.display = 'none';
  }

  window.onclick = function(event) {
    if(event.target == modal){
      closeModal();
    }
  }

  // Animasi masuk kartu
  const cards = document.querySelectorAll('.card');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if(entry.isIntersecting){
        entry.target.classList.add('show');
        observer.unobserve(entry.target);
      }
    });
  }, {threshold: 0.2});

  cards.forEach(card => observer.observe(card));

  // Fungsi hapus card
  function removeCard(cardElement, name){
    cardElement.remove();
    let savedCards = JSON.parse(localStorage.getItem('sliderCards')) || [];
    savedCards = savedCards.filter(c => c.name !== name);
    localStorage.setItem('sliderCards', JSON.stringify(savedCards));
  }

  // Tambah card baru
  function addNewCard() {
    let name = prompt("Nama anggota:");
    if(!name) return;
    let role = prompt("Jabatan / Divisi:");
    if(!role) return;
    let img = prompt("Link gambar (URL):", "https://via.placeholder.com/100");
    if(!img) img = "https://via.placeholder.com/100";
    let bio = prompt("Keterangan / Bio:");

    const slider = document.getElementById('sliderDivisi');
    const card = document.createElement('div');
    card.classList.add('card', 'show');
    card.onclick = () => openModal(name, role, img, bio);
    card.innerHTML = `<img src="${img}" alt="${role}"><h3>${name}</h3><p>${role}</p>`;

    // tombol hapus
    const removeBtn = document.createElement('span');
    removeBtn.textContent = 'Ã—';
    removeBtn.classList.add('remove-btn');
    removeBtn.onclick = (e) => {
      e.stopPropagation();
      removeCard(card, name);
    };
    card.appendChild(removeBtn);

    slider.appendChild(card);

    // Simpan ke localStorage
    let savedCards = JSON.parse(localStorage.getItem('sliderCards')) || [];
    savedCards.push({name, role, img, bio});
    localStorage.setItem('sliderCards', JSON.stringify(savedCards));
  }

  // Load data dari localStorage saat halaman dibuka
  window.addEventListener('DOMContentLoaded', () => {
    let savedCards = JSON.parse(localStorage.getItem('sliderCards')) || [];
    const slider = document.getElementById('sliderDivisi');
    savedCards.forEach(c => {
      const card = document.createElement('div');
      card.classList.add('card', 'show');
      card.onclick = () => openModal(c.name, c.role, c.img, c.bio);
      card.innerHTML = `<img src="${c.img}" alt="${c.role}"><h3>${c.name}</h3><p>${c.role}</p>`;

      // tombol hapus
      const removeBtn = document.createElement('span');
      removeBtn.textContent = 'Ã—';
      removeBtn.classList.add('remove-btn');
      removeBtn.onclick = (e) => {
        e.stopPropagation();
        removeCard(card, c.name);
      };
      card.appendChild(removeBtn);

      slider.appendChild(card);
    });
  });
</script>

</body>
</html>
